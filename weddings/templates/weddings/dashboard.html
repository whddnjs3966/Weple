{% extends "base.html" %}
{% load static humanize %}

{% block title %}대시보드 - 웨딩 플래너{% endblock %}

{% block content %}
<!-- Hero / D-Day Section -->
<div
    class="glass-panel rounded-card p-6 md:p-8 mb-8 text-center relative overflow-hidden group hover:shadow-glass hover:shadow-pink-glass transition-all duration-500">
    <!-- Background Image -->
    <div class="absolute inset-0 z-0">
        <img src="https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80"
            alt="Wedding Background"
            class="w-full h-full object-cover opacity-90 brightness-[0.85] group-hover:scale-105 transition-transform duration-700">
        <div class="absolute inset-0 bg-white/20 backdrop-blur-[1px]"></div>
    </div>

    <div class="relative z-10 text-white drop-shadow-md">
        <h5 class="font-serif font-bold text-base md:text-lg uppercase tracking-[0.2em] mb-3 text-white/90">Wedding
            D-Day</h5>

        {% if d_day is not None %}
        <h1 class="font-serif text-6xl md:text-8xl font-bold mb-2 animate-fade-in-up text-white"
            style="text-shadow: 0 4px 12px rgba(0,0,0,0.15);">
            D-{{ d_day }}
        </h1>
        <p class="text-lg md:text-xl font-medium mt-3 text-white/90">
            {{ group.wedding_date|date:"Y. m. d" }}
        </p>

        <!-- Visual Indicator -->
        <div class="w-16 h-1 bg-white/60 mx-auto mt-6 rounded-full"></div>
        {% else %}
        <h1 class="font-serif text-4xl md:text-5xl text-white/80 mb-4">Set your date</h1>
        <a href="#" data-bs-toggle="modal" data-bs-target="#profileUpdateModal"
            class="inline-block px-6 py-2 rounded-full border border-white/60 text-white hover:bg-white hover:text-primary transition-all no-underline text-sm font-medium shadow-sm hover:shadow-md backdrop-blur-sm bg-white/10">
            D-Day 설정하기
        </a>
        {% endif %}
    </div>
</div>

<!-- Navigation Tabs -->
{% include 'weddings/includes/_dashboard_tabs.html' %}

<!-- Content Grid / Floating Cards Section -->
<div class="relative py-28 md:py-36 overflow-hidden min-h-[500px] flex items-center justify-center">
    <!-- Floating Background Elements -->
    <div class="absolute inset-0 pointer-events-none">
        <!-- Left Side Cards -->
        <!-- Card 1: Ring -->
        <div
            class="absolute top-[10%] left-[5%] md:left-[10%] w-24 h-32 md:w-32 md:h-40 glass-panel rounded-xl overflow-hidden shadow-lg animate-float-slow rotate-[-6deg] opacity-80">
            <img src="https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                class="w-full h-full object-cover">
        </div>
        <!-- Card 4: Shoes -->
        <div
            class="absolute bottom-[15%] left-[8%] md:left-[15%] w-22 h-26 md:w-28 md:h-36 glass-panel rounded-xl overflow-hidden shadow-lg animate-float-fast rotate-[8deg] opacity-75">
            <img src="https://images.unsplash.com/photo-1588058365815-c96ac30ee309?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                class="w-full h-full object-cover">
        </div>
        <!-- Card 6: Table Setting -->
        <div
            class="absolute top-[40%] left-[-2%] md:left-[5%] w-20 h-24 md:w-24 md:h-32 glass-panel rounded-lg overflow-hidden shadow-md animate-float-medium rotate-[-12deg] opacity-60">
            <img src="https://images.unsplash.com/photo-1519225421980-715cb0202128?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                class="w-full h-full object-cover">
        </div>

        <!-- Right Side Cards -->
        <!-- Card 2: Bouquet -->
        <div
            class="absolute top-[12%] right-[5%] md:right-[12%] w-28 h-28 md:w-36 md:h-36 glass-panel rounded-full overflow-hidden shadow-lg animate-float-medium rotate-[12deg] opacity-70">
            <img src="https://images.unsplash.com/photo-1550005809-91ad75fb315f?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                class="w-full h-full object-cover">
        </div>
        <!-- Card 3: Dress -->
        <div
            class="absolute bottom-[10%] right-[15%] md:right-[20%] w-20 h-28 md:w-28 md:h-40 glass-panel rounded-xl overflow-hidden shadow-lg animate-float-fast rotate-[-15deg] opacity-70 z-0">
            <img src="https://images.unsplash.com/photo-1594539659178-1e6a97fcc5c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                class="w-full h-full object-cover">
        </div>
        <!-- Card 5: Cake -->
        <div
            class="absolute top-[50%] right-[-5%] md:right-[2%] w-24 h-32 md:w-32 md:h-44 glass-panel rounded-xl overflow-hidden shadow-lg animate-float-slow rotate-[5deg] opacity-80">
            <img src="https://images.unsplash.com/photo-1535254973040-607b474cb50d?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                class="w-full h-full object-cover">
        </div>
    </div>

    <!-- Central Welcome Text -->
    <div
        class="relative z-10 text-center animate-fade-in-up delay-100 max-w-2xl mx-auto glass-panel p-10 md:p-14 rounded-[3rem] bg-white/40 border border-white/50 shadow-2xl backdrop-blur-lg">
        <div
            class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-pink-100 to-white shadow-inner text-primary mb-6 animate-pulse-slow">
            <i class="bi bi-stars text-2xl"></i>
        </div>
        <h3 class="font-serif text-3xl md:text-4xl font-bold text-gray-800 mb-4 tracking-tight">Welcome to Your Planner
        </h3>
        <p class="text-gray-600 text-base md:text-lg leading-relaxed font-light">
            Every detail matters.<br>
            Manage your schedule, checklist, and vendors efficiently.
        </p>
    </div>
</div>

<style>
    .animate-float-slow {
        animation: float 7s ease-in-out infinite;
    }

    .animate-float-medium {
        animation: float 6s ease-in-out infinite reverse;
    }

    .animate-float-fast {
        animation: float 8s ease-in-out infinite 1s;
    }

    .animate-pulse-slow {
        animation: pulse 3s infinite;
    }

    @keyframes float {
        0% {
            transform: translateY(0) rotate(var(--tw-rotate));
        }

        50% {
            transform: translateY(-20px) rotate(var(--tw-rotate));
        }

        100% {
            transform: translateY(0) rotate(var(--tw-rotate));
        }
    }

    @keyframes pulse {

        0%,
        100% {
            opacity: 1;
            transform: scale(1);
        }

        50% {
            opacity: 0.8;
            transform: scale(1.05);
        }
    }

    .animate-fade-in-up {
        animation: fadeInUp 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    }

    .delay-100 {
        animation-delay: 0.2s;
    }
</style>
{% endblock %}